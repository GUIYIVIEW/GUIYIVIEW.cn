---
title: iOS监听系统侧滑返回事件
date: 2022-11-04 15:16:08
tags:
- iOS
- 侧滑返回
categories:
- iOS
---

`UIViewController`方法
```
- (void)willMoveToParentViewController:(UIViewController)parent
- (void)didMoveToParentViewController:(UIViewController)parent
```
这两个方法是系统写的类别`UIContainerViewControllerCallbacks`中的方法。
只需要在当前使用的控制器中重写这两个方法就可以了，第一次push进来的时候两个方法都会调用，parent的值不为空。当开始使用系统侧滑的时候，会先调用willMove，而parent的值为空；当滑动结束后返回了上个页面，则会调用didMove，parent的值也为空，如果滑动结束没有返回上个页面，也就是轻轻划了一下还在当前页面，那么则不会调用didMove方法。
所以如果想要在侧滑返回后在上个页面做一些操作的话，可以在didMove方法中根据parent的值来判断。

```
- (void)willMoveToParentViewController:(UIViewController)parent{
        [superwillMoveToParentViewController:parent];
        NSLog(@"%s,%@",FUNCTION,parent);
}
- (void)didMoveToParentViewController:(UIViewController)parent{
        [superdidMoveToParentViewController:parent];
        NSLog(@"%s,%@",FUNCTION,parent);
        if(!parent){
            NSLog(@"页面pop成功了");
        }
}
```

[原文地址](https://www.jianshu.com/p/b7331546a18b)
