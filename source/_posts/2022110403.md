---
title: Masonry--更新动画
date: 2022-11-04 15:28:15
tags:
- iOS
categories:
- iOS
---


```
- (void)viewDidLoad {
    [super viewDidLoad];
    /// 添加视图
    [self.view addSubviews:self.bottomView];
   /// 1.初始布局
    [self.bottomView mas_makeConstraints:^(MASConstraintMaker *make) {
        make.left.right.mas_equalTo(0);
        make.bottom.mas_equalTo(kBYScreen_Height);
    }];
}

- (void)show {
  /// 2.在这里先对布局约束进行更新
  [self.bottomView mas_updateConstraints:^(MASConstraintMaker *make) {
        make.bottom.mas_equalTo(0);
    }];
    [UIView animateWithDuration:0.3 animations:^{
        /// 注意:
        /// 3.这里一定是要做动画的视图的父视图，或者父视图的父视图，总之就是比它辈分高的
        [self.bottomView.superView layoutIfNeeded];
      /// 这里可以处理其他的事情,比如改变父视图的透明度
    } completion:^(BOOL finished) {
        
    }];
}
```
这里简单记录一下，免得下一次又忘记了!!!
